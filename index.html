<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMR Калькулятор</title>
    <link rel="manifest" href="manifest.json">
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(reg => console.log('Service Worker зареєстровано', reg))
                .catch(err => console.error('Помилка при реєстрації Service Worker', err));
        }
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 1rem;
        }
        .container {
            max-width: 480px;
            margin: auto;
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            text-align: center;
            color: #1e5128;
        }
        label {
            display: block;
            margin-top: 1rem;
        }
        select, input {
            width: 100%;
            padding: 0.5rem;
            margin-top: 0.25rem;
        }
        button {
            width: 100%;
            margin-top: 1rem;
            padding: 0.75rem;
            background: #1e5128;
            color: white;
            border: none;
            border-radius: 5px;
        }
        .result {
            margin-top: 1rem;
            background: #dff0d8;
            padding: 1rem;
            border-left: 5px solid #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>BMR Калькулятор</h1>
        <h2>Розрахунок за формулою @fitgymdiet</h2>
        <label>Стать:
            <select id="gender">
                <option value="female">Жінка</option>
                <option value="male">Чоловік</option>
            </select>
        </label>
        <label>Вік (років): <input type="number" id="age"></label>
        <label>Зріст (см): <input type="number" id="height"></label>
        <label>Вага (кг): <input type="number" id="weight"></label>
        <label>Рівень активності:
            <select id="activity">
                <option value="1.2">Сидячий (немає фізичних навантажень)</option>
                <option value="1.375">Низький (легка активність 1–3 дні)</option>
                <option value="1.55">Середній (тренування 3–5 днів)</option>
                <option value="1.725">Високий (інтенсивні навантаження 6–7 днів)</option>
                <option value="1.9">Дуже високий (двічі на день, спортсмени)</option>
            </select>
        </label>
        <label>Цільова калорійність:
            <select id="goal">
                <option value="0.7">-30%</option>
                <option value="0.75">-25%</option>
                <option value="0.8">-20%</option>
                <option value="0.85">-15%</option>
                <option value="0.9">-10%</option>
                <option value="0.95">-5%</option>
                <option value="1">0%</option>
                <option value="1.05">+5%</option>
                <option value="1.1">+10%</option>
                <option value="1.15">+15%</option>
                <option value="1.2">+20%</option>
                <option value="1.25">+25%</option>
                <option value="1.3">+30%</option>
            </select>
        </label>
        <button onclick="calculate()">Розрахувати</button>
        <div class="result" id="result"></div>
    </div>

    <script>
        function calculate() {
            const gender = document.getElementById('gender').value;
            const age = parseFloat(document.getElementById('age').value);
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const activity = parseFloat(document.getElementById('activity').value);
            const goal = parseFloat(document.getElementById('goal').value);

            if (isNaN(age) || isNaN(height) || isNaN(weight)) {
                document.getElementById('result').innerHTML = 'Будь ласка, введіть всі дані.';
                return;
            }

            let bmr;
            if (gender === 'female') {
                bmr = 10 * weight + 6.25 * height - 5 * age - 161;
            } else {
                bmr = 10 * weight + 6.25 * height - 5 * age + 5;
            }

            const tdee = bmr * activity;
            const target = tdee * goal;

            document.getElementById('result').innerHTML = 
                `<strong>BMR:</strong> ${Math.round(bmr)} ккал<br>` +
                `<strong>TDEE (активність):</strong> ${Math.round(tdee)} ккал<br>` +
                `<strong>Цільова калорійність:</strong> ${Math.round(target)} ккал`;
        }
    </script>
</body>
</html>
